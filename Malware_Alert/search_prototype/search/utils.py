import requests



import requests
import datetime


# –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—ä–µ–∫—Ü–∏–π
def check_for_injections(query):
    # –ü—Ä–æ—Å—Ç–æ –ø—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Å—Ç—Ä–æ–∫ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)
    bad_patterns = ['<script>', 'SELECT', 'UNION', 'DROP', '--', ';']
    for pattern in bad_patterns:
        if pattern.lower() in query.lower():
            return True, pattern  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –Ω–∞–π–¥–µ–Ω
    return False, None


# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
def send_telegram_message(query, ip, injection_type=None):
    token = '7118259963:AAH75qf7YSRHxBSFtu4q0SV46cy0yyqKljQ'  # –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
    chat_id = ['1215695167', '5644089545']  # –í–∞—à —á–∞—Ç ID

    url = f'https://api.telegram.org/bot{token}/sendMessage'

    message = f"‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ü–æ–ø—ã—Ç–∫–∞ –∏–Ω—ä–µ–∫—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ!\n"
    message += f"üîπ –í—Ä–µ–º—è: {datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n"
    message += f"üîπ IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {ip}\n"
    message += f"üîπ –ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {query}\n"

    if injection_type:
        message += f"üîπ –¢–∏–ø –∏–Ω—ä–µ–∫—Ü–∏–∏: {injection_type}\n"

    for chat in chat_id:
        response = requests.get(url, params={'chat_id': chat, 'text': message})
        if response.status_code != 200:
            print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {chat}")
